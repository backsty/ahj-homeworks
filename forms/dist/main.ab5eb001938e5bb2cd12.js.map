{"version":3,"file":"main.ab5eb001938e5bb2cd12.js","mappings":"mBAAe,MAAMA,EACnBC,WAAAA,GACEC,KAAKC,UAAY,GACjBD,KAAKE,MACP,CAEAA,IAAAA,GACEC,SAASC,iBAAiB,SAAUC,IAClC,MAAMC,EAAUD,EAAEE,OAAOC,QAAQ,kBAEjC,IAAKF,EAEH,YADAN,KAAKS,oBAIPJ,EAAEK,iBACF,MAAMC,EAAQL,EAAQM,QAAQD,MACxBE,EAAUP,EAAQM,QAAQC,QAChCb,KAAKc,cAAcH,EAAOE,EAASP,EAAQ,GAE/C,CAEAQ,aAAAA,CAAcH,EAAOE,EAASE,GAC5B,MAAMC,EAAkBhB,KAAKC,UAAUgB,MAAKC,GAAKA,EAAEZ,UAAYS,IAE3DC,EACFhB,KAAKmB,cAAcH,EAAgBI,IAIrCpB,KAAKqB,YAAYV,EAAOE,EAASE,EACnC,CAEAM,WAAAA,CAAYV,EAAOE,EAASE,GAC1B,MAAMO,EAAiBnB,SAASoB,cAAc,OAC9CD,EAAeE,UAAUC,IAAI,WAE7BH,EAAeI,UAAY,sCACIf,2CACDE,gBAG9B,MAAMO,EAAKO,YAAYC,MACjBC,EAAiBA,KACrB,MAAM,KAAEC,EAAI,IAAEC,EAAG,MAAEC,GAAUjB,EAAQkB,wBACrCX,EAAeY,MAAMJ,KAAO,GAAGA,EAAOE,EAAM,MAC5CV,EAAeY,MAAMH,IAAM,GAAGI,OAAOC,QAAUL,KAAO,EAgBxD,OAbA/B,KAAKC,UAAUoC,KAAK,CAClBjB,KACAL,QAASO,EACThB,QAASS,EACTc,mBAGF1B,SAASmC,KAAKC,YAAYjB,GAC1BO,IAEAM,OAAO/B,iBAAiB,SAAUyB,GAClCM,OAAO/B,iBAAiB,SAAUyB,GAE3BT,CACT,CAEAD,aAAAA,CAAcC,GACZ,MAAMoB,EAAUxC,KAAKC,UAAUgB,MAAKC,GAAKA,EAAEE,KAAOA,IAE7CoB,GAEDA,IACFA,EAAQzB,QAAQ0B,SAChBzC,KAAKC,UAAYD,KAAKC,UAAUyC,QAAOxB,GAAKA,EAAEE,KAAOA,IAEzD,CAEAX,iBAAAA,GACET,KAAKC,UAAU0C,SAAQH,GAAWA,EAAQzB,QAAQ0B,WAClDzC,KAAKC,UAAY,EACnB,EC7EF,MAAM2C,EAAmBzC,SAAS0C,cAAc,cAC1CC,EACK,CACPnC,MAAO,gBACPE,QAAS,+DAQb,IAAIkC,EAAiB,KACjBC,EAAiB,GA4BrB,SAASC,EAAYC,GACnB,MAAM3C,EAAS2C,EAAM3C,OAAOC,QAAQ,kBAEpC,IAAKD,EAEH,OAXFyC,EAAeL,SAAQH,IACrBO,EAAe5B,cAAcqB,EAAQpB,GAAG,SAE1C4B,EAAiB,IAWjBE,EAAMxC,iBAEmBsC,EAAeG,MAAKjC,GAAKA,EAAEH,UAAYR,IAzBlE,SAAuBQ,GACrB,MAAMyB,EAAUQ,EAAe/B,MAAKC,GAAKA,EAAEH,UAAYA,IACnDyB,IACFO,EAAe5B,cAAcqB,EAAQpB,IACrC4B,EAAiBA,EAAeN,QAAOxB,GAAKA,EAAEE,KAAOoB,EAAQpB,KAEjE,CAqBID,CAAcZ,GAtClB,SAAqBQ,GACnB,MAAMJ,EAAQI,EAAQH,QAAQD,OAASmC,EAAwBnC,MACzDE,EAAUE,EAAQH,QAAQC,SAAWiC,EAAwBjC,QAE7DO,EAAK2B,EAAe1B,YAAYV,EAAOE,EAASE,GACtDiC,EAAeX,KAAK,CAClBtB,UACAK,MAEJ,CA+BIC,CAAYd,EAEhB,CAEAJ,SAASC,iBAAiB,oBAAoB,KAC5C,IACE2C,EAAiB,IAAIjD,EACrB8C,EAAiBxC,iBAAiB,QAAS6C,GAC3CG,QAAQC,IAAI,yCACd,CAAE,MAAOC,GACPF,QAAQE,MAAM,sCAAuCA,EACvD,I","sources":["webpack://forms/./src/js/popover.js","webpack://forms/./src/js/app.js"],"sourcesContent":["export default class PopoverWidget {\r\n  constructor() {\r\n    this._popovers = [];\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    document.addEventListener('click', (e) => {\r\n      const trigger = e.target.closest('[data-popover]');\r\n      \r\n      if (!trigger) {\r\n        this.removeAllPopovers();\r\n        return;\r\n      }\r\n\r\n      e.preventDefault();\r\n      const title = trigger.dataset.title;\r\n      const content = trigger.dataset.content;\r\n      this.togglePopover(title, content, trigger);\r\n    });\r\n  }\r\n\r\n  togglePopover(title, content, element) {\r\n    const existingPopover = this._popovers.find(p => p.trigger === element);\r\n    \r\n    if (existingPopover) {\r\n      this.removePopover(existingPopover.id);\r\n      return;\r\n    }\r\n\r\n    this.showPopover(title, content, element);\r\n  }\r\n\r\n  showPopover(title, content, element) {\r\n    const popoverElement = document.createElement('div');\r\n    popoverElement.classList.add('popover');\r\n    \r\n    popoverElement.innerHTML = `\r\n      <h3 class=\"popover-header\">${title}</h3>\r\n      <div class=\"popover-body\">${content}</div>\r\n    `;\r\n\r\n    const id = performance.now();\r\n    const updatePosition = () => {\r\n      const { left, top, width } = element.getBoundingClientRect();\r\n      popoverElement.style.left = `${left + width/2}px`;\r\n      popoverElement.style.top = `${window.scrollY + top}px`;\r\n    };\r\n\r\n    this._popovers.push({\r\n      id,\r\n      element: popoverElement,\r\n      trigger: element,\r\n      updatePosition,\r\n    });\r\n\r\n    document.body.appendChild(popoverElement);\r\n    updatePosition();\r\n\r\n    window.addEventListener('resize', updatePosition);\r\n    window.addEventListener('scroll', updatePosition);\r\n\r\n    return id;\r\n  }\r\n\r\n  removePopover(id) {\r\n    const popover = this._popovers.find(p => p.id === id);\r\n\r\n    if (!popover) return;\r\n    \r\n    if (popover) {\r\n      popover.element.remove();\r\n      this._popovers = this._popovers.filter(p => p.id !== id);\r\n    }\r\n  }\r\n\r\n  removeAllPopovers() {\r\n    this._popovers.forEach(popover => popover.element.remove());\r\n    this._popovers = [];\r\n  }\r\n};","import PopoverWidget from './popover.js';\r\n\r\nconst popoverContainer = document.querySelector('.container');\r\nconst popoverMessages = {\r\n  default: {\r\n    title: 'Popover Title',\r\n    content: 'And here`s some amazing content. It`s very engaging. Right?',\r\n  },\r\n  error: {\r\n    title: 'Ошибка',\r\n    content: 'Что-то пошло не так',\r\n  },\r\n};\r\n\r\nlet popoverFactory = null;\r\nlet activePopovers = [];\r\n\r\nfunction showPopover(element) {\r\n  const title = element.dataset.title || popoverMessages.default.title;\r\n  const content = element.dataset.content || popoverMessages.default.content;\r\n\r\n  const id = popoverFactory.showPopover(title, content, element);\r\n  activePopovers.push({\r\n    element,\r\n    id,\r\n  });\r\n}\r\n\r\nfunction removePopover(element) {\r\n  const popover = activePopovers.find(p => p.element === element);\r\n  if (popover) {\r\n    popoverFactory.removePopover(popover.id);\r\n    activePopovers = activePopovers.filter(p => p.id !== popover.id);\r\n  }\r\n}\r\n\r\nfunction removeAllPopovers() {\r\n  activePopovers.forEach(popover => {\r\n    popoverFactory.removePopover(popover.id);\r\n  });\r\n  activePopovers = [];\r\n}\r\n\r\nfunction handleClick(event) {\r\n  const target = event.target.closest('[data-popover]');\r\n  \r\n  if (!target) {\r\n    removeAllPopovers();\r\n    return;\r\n  }\r\n\r\n  event.preventDefault();\r\n\r\n  const hasActivePopover = activePopovers.some(p => p.element === target);\r\n  if (hasActivePopover) {\r\n    removePopover(target);\r\n  } else {\r\n    showPopover(target);\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  try {\r\n    popoverFactory = new PopoverWidget();\r\n    popoverContainer.addEventListener('click', handleClick);\r\n    console.log('PopoverWidget initialized successfully');\r\n  } catch (error) {\r\n    console.error('Failed to initialize PopoverWidget:', error);\r\n  }\r\n});"],"names":["PopoverWidget","constructor","this","_popovers","init","document","addEventListener","e","trigger","target","closest","removeAllPopovers","preventDefault","title","dataset","content","togglePopover","element","existingPopover","find","p","removePopover","id","showPopover","popoverElement","createElement","classList","add","innerHTML","performance","now","updatePosition","left","top","width","getBoundingClientRect","style","window","scrollY","push","body","appendChild","popover","remove","filter","forEach","popoverContainer","querySelector","popoverMessages","popoverFactory","activePopovers","handleClick","event","some","console","log","error"],"sourceRoot":""}