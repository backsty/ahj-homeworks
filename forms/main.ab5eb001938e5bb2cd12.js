(()=>{"use strict";class e{constructor(){this._popovers=[],this.init()}init(){document.addEventListener("click",(e=>{const t=e.target.closest("[data-popover]");if(!t)return void this.removeAllPopovers();e.preventDefault();const o=t.dataset.title,n=t.dataset.content;this.togglePopover(o,n,t)}))}togglePopover(e,t,o){const n=this._popovers.find((e=>e.trigger===o));n?this.removePopover(n.id):this.showPopover(e,t,o)}showPopover(e,t,o){const n=document.createElement("div");n.classList.add("popover"),n.innerHTML=`\n      <h3 class="popover-header">${e}</h3>\n      <div class="popover-body">${t}</div>\n    `;const i=performance.now(),s=()=>{const{left:e,top:t,width:i}=o.getBoundingClientRect();n.style.left=`${e+i/2}px`,n.style.top=`${window.scrollY+t}px`};return this._popovers.push({id:i,element:n,trigger:o,updatePosition:s}),document.body.appendChild(n),s(),window.addEventListener("resize",s),window.addEventListener("scroll",s),i}removePopover(e){const t=this._popovers.find((t=>t.id===e));t&&t&&(t.element.remove(),this._popovers=this._popovers.filter((t=>t.id!==e)))}removeAllPopovers(){this._popovers.forEach((e=>e.element.remove())),this._popovers=[]}}const t=document.querySelector(".container"),o={title:"Popover Title",content:"And here`s some amazing content. It`s very engaging. Right?"};let n=null,i=[];function s(e){const t=e.target.closest("[data-popover]");if(!t)return i.forEach((e=>{n.removePopover(e.id)})),void(i=[]);e.preventDefault();i.some((e=>e.element===t))?function(e){const t=i.find((t=>t.element===e));t&&(n.removePopover(t.id),i=i.filter((e=>e.id!==t.id)))}(t):function(e){const t=e.dataset.title||o.title,s=e.dataset.content||o.content,r=n.showPopover(t,s,e);i.push({element:e,id:r})}(t)}document.addEventListener("DOMContentLoaded",(()=>{try{n=new e,t.addEventListener("click",s),console.log("PopoverWidget initialized successfully")}catch(e){console.error("Failed to initialize PopoverWidget:",e)}}))})();
//# sourceMappingURL=main.ab5eb001938e5bb2cd12.js.map