{"version":3,"file":"main.8a438d70318e049ca928.js","mappings":"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","sources":["webpack://dnd/webpack/bootstrap","webpack://dnd/webpack/runtime/publicPath","webpack://dnd/./src/js/cursors.js","webpack://dnd/./src/js/PageUi.js","webpack://dnd/./src/js/utils.js","webpack://dnd/./src/js/app.js","webpack://dnd/./src/js/StateService.js","webpack://dnd/./src/js/PageController.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.p = \"/ahj-homeworks/dnd/\";","import noTouch from '../img/no-touch.svg';\nimport touch from '../img/touch.svg';\nimport notInterested from '../img/not-interested.svg';\n\nconst cursors = {\n  DEFAULT: 'default',\n  GRAB: `url(${noTouch}) 15 15, grab`,\n  GRABBING: `url(${touch}) 15 15, grabbing`,\n  NOT_ALLOWED: `url(${notInterested}) 15 15, not-allowed`\n};\n\nexport default cursors;\n","import trash from '../img/trash.svg';\n\nexport default class PageUi {\n  constructor(data) {\n    this.data = data;\n    this.container = null;\n    this.cardsContainerEl = null;\n    this.addCards = null;\n    this.forms = null;\n    this.cancelBtns = null;\n    this.inputs = null;\n    this.cards = null;\n  }\n\n  bindToDom(container) {\n    if (!(container instanceof HTMLElement)) {\n      throw new Error('Контейнер не является элементом \"HTMLElement\"');\n    }\n    this.container = container;\n    if (!this.container) {\n      throw new Error('Контейнер не найден');\n    }\n  }\n\n  drawUi() {\n    this.data.forEach((column) => {\n      const columnEl = document.querySelector(`[data-column=\"${column.id}\"]`);\n      if (columnEl) {\n        const title = columnEl.querySelector('h2');\n        title.textContent = column.title;\n      }\n    });\n\n    this.addCards = this.container.querySelectorAll('.add-card');\n    this.cards = this.container.querySelectorAll('.cards-container');\n    this.addCards.forEach(addButton => {\n      const form = PageUi.createAddCardForm();\n      addButton.parentElement.appendChild(form);\n      \n      addButton.addEventListener('click', () => {\n        addButton.classList.add('hidden');\n        form.classList.remove('hidden');\n        form.querySelector('.card-input').focus();\n      });\n    });\n  }\n\n  static createCard(text) {\n    const card = document.createElement('div');\n    card.className = 'card';\n    card.draggable = true;\n\n    const content = document.createElement('div');\n    content.className = 'card-content';\n    content.textContent = text;\n\n    const deleteBtn = document.createElement('img');\n    deleteBtn.className = 'card-delete';\n    deleteBtn.src = trash;\n    deleteBtn.alt = 'Delete';\n\n    card.appendChild(content);\n    card.appendChild(deleteBtn);\n\n    return card;\n  }\n\n  static createAddCardForm() {\n    const form = document.createElement('form');\n    form.className = 'add-card-form hidden';\n    form.innerHTML = `\n      <textarea class=\"card-input\" placeholder=\"Введите название карточки...\"></textarea>\n      <div class=\"form-controls\">\n        <button type=\"submit\" class=\"add-btn\">Добавить карточку</button>\n        <button type=\"button\" class=\"cancel-btn\">×</button>\n      </div>\n    `;\n    \n    const textarea = form.querySelector('.card-input');\n    textarea.addEventListener('input', function() {\n      this.style.height = 'auto';\n      this.style.height = this.scrollHeight + 'px';\n    });\n\n    return form;\n  }\n\n  static deleteCard(card) {\n    if (card && card.classList.contains('card')) {\n      card.remove();\n    }\n  }\n\n  static checkBinding() {\n    return document.querySelector('.board') !== null;\n  }\n}\n","const data = [\n  {\n    id: 'todo',\n    title: 'Todo',\n  },\n  {\n    id: 'in-progress',\n    title: 'In progress',\n  },\n  {\n    id: 'done',\n    title: 'Done',\n  },\n];\n\nexport default data;","import PageController from './PageController.js';\nimport PageUi from './PageUi.js';\nimport StateService from './StateService.js';\nimport data from './utils.js';\n\nconst stateService = new StateService(localStorage);\nconst pageUi = new PageUi(data);\nconst controller = new PageController(pageUi, stateService);\n\ncontroller.init();","export default class StateService {\n    constructor(storage) {\n        this.storage = storage;\n    }\n\n    save(state) {\n        this.storage.setItem('state', JSON.stringify(state));\n    }\n\n    load() {\n        try {\n            const data = this.storage.getItem('state');\n            return data ? JSON.parse(data) : {\n                todo: [],\n                'in-progress': [],\n                done: []\n            };\n        } catch (e) {\n            throw new Error('Ошибка при загрузке данных');\n        }\n    }\n};","import cursors from './cursors.js';\nimport pageUi from './PageUi.js';\n\nexport default class PageController {\n  constructor(ui, stateService) {\n    this.ui = ui;\n    this.stateService = stateService;\n    this.dragEl = null;\n    this.ghostEl = null;\n    this.shiftX = null;\n    this.shiftY = null;\n    this.elInitialX = null;\n    this.elInitialY = null;\n  }\n\n  init() {\n    this.ui.bindToDom(document.querySelector('.board'));\n    this.ui.drawUi();\n    this.loadState();\n    this.addEventListeners();\n  }\n\n  loadState() {\n    const state = this.stateService.load();\n    Object.entries(state).forEach(([columnId, cards]) => {\n      const container = document.querySelector(`[data-column=\"${columnId}\"] .cards-container`);\n      if (container) {\n        container.innerHTML = '';\n        cards.forEach(cardText => {\n          container.appendChild(this.ui.constructor.createCard(cardText));\n        });\n      }\n    });\n  }\n\n  saveState() {\n    const state = {};\n    this.ui.data.forEach(column => {\n      const container = document.querySelector(`[data-column=\"${column.id}\"] .cards-container`);\n      if (container) {\n        state[column.id] = Array.from(container.children).map(card =>\n          card.querySelector('.card-content').textContent,\n        );\n      }\n    });\n    this.stateService.save(state);\n  }\n\n  addEventListeners() {\n    // Обработчики drag&drop\n    document.addEventListener('mousedown', this.onMouseDown.bind(this));\n    document.addEventListener('mousemove', this.onMouseMove.bind(this));\n    document.addEventListener('mouseup', this.onMouseUp.bind(this));\n\n    // Обработчик удаления карточки\n    this.ui.container.addEventListener('click', (e) => {\n      if (e.target.classList.contains('card-delete')) {\n        const card = e.target.closest('.card');\n        if (card) {\n          this.ui.constructor.deleteCard(card);\n          this.saveState();\n        }\n      }\n\n      // Показать форму при клике на \"Добавить карточку\"\n      if (e.target.classList.contains('add-card')) {\n        const column = e.target.closest('.column');\n        const form = column.querySelector('.add-card-form');\n        e.target.classList.add('hidden');\n        form.classList.remove('hidden');\n        form.querySelector('.card-input').focus();\n      }\n\n      // Скрыть форму при клике на \"Отмена\"\n      if (e.target.classList.contains('cancel-btn')) {\n        const form = e.target.closest('.add-card-form');\n        form.reset();\n        form.classList.add('hidden');\n        const addButton = form.closest('.column').querySelector('.add-card');\n        addButton.classList.remove('hidden');\n      }\n    });\n\n    // Обработчик отправки формы\n    this.ui.container.addEventListener('submit', (e) => {\n      if (e.target.classList.contains('add-card-form')) {\n        e.preventDefault();\n        const form = e.target;\n        const input = form.querySelector('.card-input');\n        const text = input.value.trim();\n\n        if (text) {\n          const column = form.closest('.column');\n          const container = column.querySelector('.cards-container');\n          container.appendChild(this.ui.constructor.createCard(text));\n          this.saveState();\n        }\n\n        form.reset();\n        form.classList.add('hidden');\n        const addButton = form.closest('.column').querySelector('.add-card');\n        addButton.classList.remove('hidden');\n      }\n    });\n  }\n\n  onMouseDown(event) {\n    const card = event.target.closest('.card');\n    if (!card || event.target.closest('.card-delete')) return;\n    event.preventDefault();\n  \n    this.dragEl = card;\n    const rect = card.getBoundingClientRect();\n    \n    this.shiftX = event.clientX - rect.left;\n    this.shiftY = event.clientY - rect.top;\n    \n    this.dragEl.style.opacity = '0.5';\n    document.body.style.cursor = cursors.GRABBING;\n  }\n\n  onMouseMove(event) {\n    if (!this.dragEl) return;\n    event.preventDefault();\n  \n    if (!this.ghostEl) {\n      this.createGhost(this.dragEl);\n    }\n  \n    const newX = event.clientX - this.shiftX;\n    const newY = event.clientY - this.shiftY;\n    \n    this.ghostEl.style.left = `${newX}px`;\n    this.ghostEl.style.top = `${newY}px`;\n  \n    const columnUnder = event.target.closest('.cards-container');\n    if (columnUnder) {\n      const closestCard = this.getClosestCard(columnUnder, event.clientY);\n      this.updateDropPosition(columnUnder, closestCard);\n    }\n  }\n\n  onMouseUp() {\n    if (!this.dragEl) return;\n\n    document.body.style.cursor = cursors.DEFAULT;\n    const placeholder = document.querySelector('.ghost-placeholder');\n    if (placeholder) {\n      placeholder.replaceWith(this.dragEl);\n    }\n\n    this.dragEl.style.opacity = '';\n    this.removeGhost();\n    this.saveState();\n    \n    this.dragEl = null;\n  }\n\n  createGhost(element) {\n    this.ghostEl = element.cloneNode(true);\n    this.ghostEl.classList.add('dragged');\n    this.ghostEl.style.position = 'fixed';\n    this.ghostEl.style.width = `${element.offsetWidth}px`;\n    this.ghostEl.style.height = `${element.offsetHeight}px`;\n    this.ghostEl.style.zIndex = '1000';\n    this.ghostEl.style.pointerEvents = 'none';\n    document.body.appendChild(this.ghostEl);\n  }\n\n  removeGhost() {\n    if (this.ghostEl) {\n      this.ghostEl.remove();\n      this.ghostEl = null;\n    }\n  }\n\n  updateDropPosition(container, card) {\n    const placeholder = document.querySelector('.ghost-placeholder') \n      || document.createElement('div');\n    \n    placeholder.className = 'ghost-placeholder';\n    placeholder.style.height = `${this.dragEl.offsetHeight}px`;\n  \n    if (card) {\n      if (card !== placeholder) {\n        card.parentNode.insertBefore(placeholder, card);\n      }\n    } else {\n      container.appendChild(placeholder);\n    }\n  }\n\n  getClosestCard(container, y) {\n    const cards = [...container.querySelectorAll('.card:not(.dragged)')];\n\n    return cards.reduce((closest, child) => {\n      const box = child.getBoundingClientRect();\n      const offset = y - box.top - box.height / 2;\n\n      if (offset < 0 && offset > closest.offset) {\n        return { offset, element: child };\n      }\n      return closest;\n    }, { offset: Number.NEGATIVE_INFINITY }).element;\n  }\n}\n"],"names":["__webpack_require__","DEFAULT","GRAB","GRABBING","NOT_ALLOWED","PageUi","constructor","data","this","container","cardsContainerEl","addCards","forms","cancelBtns","inputs","cards","bindToDom","HTMLElement","Error","drawUi","forEach","column","columnEl","document","querySelector","id","textContent","title","querySelectorAll","addButton","form","createAddCardForm","parentElement","appendChild","addEventListener","classList","add","remove","focus","createCard","text","card","createElement","className","draggable","content","deleteBtn","src","trash","alt","innerHTML","style","height","scrollHeight","deleteCard","contains","checkBinding","stateService","storage","save","state","setItem","JSON","stringify","load","getItem","parse","todo","done","e","localStorage","pageUi","controller","ui","dragEl","ghostEl","shiftX","shiftY","elInitialX","elInitialY","init","loadState","addEventListeners","Object","entries","columnId","cardText","saveState","Array","from","children","map","onMouseDown","bind","onMouseMove","onMouseUp","target","closest","reset","preventDefault","value","trim","event","rect","getBoundingClientRect","clientX","left","clientY","top","opacity","body","cursor","cursors","createGhost","newX","newY","columnUnder","closestCard","getClosestCard","updateDropPosition","placeholder","replaceWith","removeGhost","element","cloneNode","position","width","offsetWidth","offsetHeight","zIndex","pointerEvents","parentNode","insertBefore","y","reduce","child","box","offset","Number","NEGATIVE_INFINITY"],"sourceRoot":""}